import Brick from "./Brick.ts";
import * as GameData from "./GameData.ts";

export default interface BrickMap {
  //16 rows and 16 columns
  map: Brick[][];
}

export function generateBrickMap(): BrickMap {
  const map: Brick[][] = [];
  //row
  for (let i = 0; i < GameData.MAX_BRICKS_PER_ROW; i++) {
    map.push([]);
    //column
    for (let j = 0; j < GameData.MAX_BRICKS_PER_COLUMN; j++) {
      const random = Math.floor(Math.random() * GameData.MAX_BRICK_LIFE);
      map[i].push(new Brick(random));
    }
  }

  return { map };
}

export function convertNumberToBrickMap(numberMap: number[][]): BrickMap {
  const map: Brick[][] = [];
  //row
  for (let i = 0; i < GameData.MAX_BRICKS_PER_ROW; i++) {
    map.push([]);
    //column
    for (let j = 0; j < GameData.MAX_BRICKS_PER_COLUMN; j++) {
      map[i].push(new Brick(numberMap[i][j]));
    }
  }

  return { map };
}

const loveMapTemplate: number[][] = [
  // 1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16
  [0, 0, 0, 5, 5, 5, 5, 5, 5, 0, 0, 0, 0, 0, 0, 0], //1
  [0, 0, 5, 1, 1, 1, 1, 1, 1, 5, 0, 0, 0, 0, 0, 0], //2
  [0, 5, 0, 1, 1, 1, 1, 1, 1, 1, 5, 0, 0, 0, 0, 0], //3
  [0, 5, 0, 1, 2, 2, 2, 2, 2, 1, 1, 5, 0, 0, 0, 0], //4
  [0, 5, 0, 1, 2, 3, 3, 3, 3, 2, 1, 1, 5, 0, 0, 0], //5
  [0, 0, 5, 1, 1, 2, 3, 3, 3, 3, 2, 1, 1, 5, 0, 0], //6
  [0, 0, 0, 5, 1, 1, 2, 3, 3, 3, 3, 2, 1, 3, 5, 0], //7
  [0, 0, 0, 0, 5, 1, 1, 2, 3, 3, 3, 3, 2, 2, 3, 5], //8
  [0, 0, 0, 0, 5, 1, 1, 2, 3, 3, 3, 3, 2, 2, 3, 5], //9
  [0, 0, 0, 5, 1, 1, 2, 3, 3, 3, 3, 2, 1, 3, 5, 0], //10
  [0, 0, 5, 1, 1, 2, 3, 3, 3, 3, 2, 1, 1, 5, 0, 0], //11
  [0, 5, 0, 1, 2, 3, 3, 3, 3, 2, 1, 1, 5, 0, 0, 0], //12
  [0, 5, 0, 1, 2, 2, 2, 2, 2, 1, 1, 5, 0, 0, 0, 0], //13
  [0, 5, 0, 1, 1, 1, 1, 1, 1, 1, 5, 0, 0, 0, 0, 0], //14
  [0, 0, 5, 1, 1, 1, 1, 1, 1, 5, 0, 0, 0, 0, 0, 0], //15
  [0, 0, 0, 5, 5, 5, 5, 5, 5, 0, 0, 0, 0, 0, 0, 0], //16
];

const test: number[][] = [
  // 1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //1
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //2
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //3
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //4
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //5
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //6
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //7
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //8
  [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], //9
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //10
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //11
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //12
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //13
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //14
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //15
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], //16
];

export const mapTemplates: number[][][] = [loveMapTemplate];
